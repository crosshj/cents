@import url('./pages/dashboard.css');
@import './vendor/inter.css';

body {
	visibility: hidden;
	/* Border Radius - More Rounded */
	--radius-sm: 0.375rem;
	--radius-md: 0.5rem;
	--radius-lg: 0.75rem;
	--radius-xl: 1rem;

	/* Spacing - More Generous */
	--spacing-xs: 0.375rem;
	--spacing-sm: 0.75rem;
	--spacing-md: 1.25rem;
	--spacing-lg: 2rem;
	--spacing-xl: 3rem;
	--spacing-2xl: 4rem;

	/* Transitions - Smoother */
	--transition-fast: 0.2s ease;
	--transition-normal: 0.3s ease;
	--transition-slow: 0.4s ease;

	color: var(--paletteTextPrimary);
}

body.framework-loaded {
	visibility: visible;
}

.app-html .fragment-loading-spinner > div {
	width: 3rem !important;
	height: 3rem !important;
	border: 5px solid var(--paletteDivider) !important;
	border-top: 5px solid var(--palettePrimaryLight) !important;
}
.app-content {
	min-height: 100vh;
	min-width: 100vw;
	display: block;
	overflow: hidden;
}

/* Override framework CSS variables for custom theme */

html.app-html.light {
	--palettePrimaryMain: #4a6fa5;
	--palettePrimaryLight: #6b8fcf;
	--palettePrimaryDark: #2c3e5c;
	--palettePrimaryContrast: #ffffff;
	--palettePrimaryNavbar: #f0f5f9;
	--paletteSecondaryMain: #a5c3ff;
	--paletteSecondaryDark: #5992d5;
	--paletteSecondaryLight: #94daf1;
	--paletteSecondaryContrast: #222;
	--paletteBackgroundDefault: #fff;
	--paletteBackgroundPaper: #fcfcfc;
	--paletteBackgroundContrast: #f7f7f7;
	--paletteTextPrimary: #00260b;
	--paletteTextSecondary: #444;
	--paletteTextTertiary: #6b7280;
	--paletteTextDisabled: #bdbdbd;
	--paletteDivider: #9197a4;
}

html.app-html.dark {
	/* Primary Palette - Muted Blue/Gray Theme */
	--palettePrimaryMain: #4a6fa5;
	--palettePrimaryLight: #6b8fcf;
	--palettePrimaryDark: #2c3e5c;
	--palettePrimaryContrast: #fff;
	--palettePrimaryNavbar: #101217;

	/* Secondary Palette - Muted Blue Gray */
	--paletteSecondaryMain: #5c7fa3;
	--paletteSecondaryDark: #3a506e;
	--paletteSecondaryLight: #7ea6d6;
	--paletteSecondaryContrast: #fff;

	/* Background Palette - Neutral Dark */
	--paletteBackgroundDefault: #23272f;
	--paletteBackgroundPaper: #101217;
	--paletteBackgroundContrast: #31343c;

	/* Text Palette - Softer Contrast */
	--paletteTextPrimary: #f4f6fa;
	--paletteTextSecondary: #bfc7d5;
	--paletteTextTertiary: #8a94a7;
	--paletteTextDisabled: #5c6370;

	/* Divider - Dark Mode */
	--paletteDivider: #282c34;
}

/* Disable tap highlight on hamburger menu button */
[data-menu-button] {
	-webkit-tap-highlight-color: transparent;
	-webkit-touch-callout: none;
	-webkit-user-select: none;
	-khtml-user-select: none;
	-moz-user-select: none;
	-ms-user-select: none;
	user-select: none;
}

/* Disable tap highlight on all buttons on mobile */
@media (max-width: 768px) {
	button,
	[role='button'],
	.btn {
		-webkit-tap-highlight-color: transparent;
		-webkit-touch-callout: none;
	}
}

x-content {
	box-sizing: border-box;
	min-height: calc(100vh - 300px);
}

/* x-button link variant styling */
x-button[variant='link'] {
	display: contents;
}
x-button[variant='link'] button {
	background: none;
	text-decoration: underline;
	color: var(--palettePrimaryMain);
	padding: 0;
	text-transform: none;
	font-size: inherit;
}

.app-layout {
	display: grid;
	height: 100%;
	min-height: 100vh; /* fallback */
	width: 100vw;
	grid-template-columns: 1fr;
	grid-template-areas: 'main';
}

/* Use dynamic viewport height when supported to avoid mobile URL bar jumps */
@supports (height: 100dvh) {
	.app-layout {
		height: 100dvh;
		min-height: 100dvh;
	}
}
#sidebar {
	position: absolute;
	z-index: 999;
	height: 100%;
	background: color-mix(in srgb, var(--paletteTextPrimary) 10%, transparent);

	overflow: hidden;
	width: 0;
	&.open {
		width: 100vw;
	}
}
#main {
	grid-area: main;
	overflow-y: auto;
}

/* Tablet and up */
@media (min-width: 768px) {
}

/* Desktop and up */
@media (min-width: 1024px) {
}

/* Large desktop */
@media (min-width: 1440px) {
	.app-layout {
		grid-template-columns: 250px 1fr;
		grid-template-areas: 'sidebar main';
	}
	#sidebar {
		position: unset;
		grid-area: sidebar;
		width: 100%;
		&.open {
			width: 100%;
		}
	}
	.dashboard-main > x-navbar .navbar-left .navbar-hamburger,
	x-page > x-navbar .navbar-left .navbar-hamburger {
		display: none;
	}
}

#sidebar > div {
	height: 100%;
	width: 250px;
	background: var(--palettePrimaryNavbar);

	padding-inline: 16px;
	display: flex;
	flex-direction: column;
	gap: 12px;

	.is-selected {
		.menuItem button,
		.menuItem .menuItem-avatar {
			--bg-color: color-mix(
				in srgb,
				var(--palettePrimaryMain) 80%,
				var(--palettePrimaryNavbar)
			);
			background: var(--bg-color);
			border-color: var(--bg-color);
			color: var(--palettePrimaryContrast);
			&:hover {
				background: var(--bg-color);
			}
		}
	}

	.menuItem {
		border-radius: var(--radius-sm);

		button,
		.menuItem-avatar {
			color: var(--paletteTextPrimary);
			&:hover {
				background: color-mix(
					in srgb,
					var(--palettePrimaryNavbar) 70%,
					var(--palettePrimaryMain)
				);
			}
		}
		.fa,
		.fas,
		.far,
		.fal,
		.fad,
		.fab {
			color: inherit;
			opacity: 0.6;
		}
	}
}

/* Fade-up animation - automatically triggers after delay */
.fade-up {
	opacity: 0;
	transform: translateY(20px);
	animation: fadeUpIn 0.15s ease 0.05s forwards;
}
@keyframes fadeUpIn {
	to {
		opacity: 1;
		transform: translateY(0);
	}
}

.fade-right {
	opacity: 0;
	transform: translateX(-20px);
	animation: fadeRightIn 0.15s ease 0.05s forwards;
}
@keyframes fadeRightIn {
	to {
		opacity: 1;
		transform: translateX(0);
	}
}

#app-menu {
	& > div {
		display: contents;
	}
}

/* Avatar Image Styles */
.menuItem-avatar {
	padding: 0.25rem 0.75rem;
	font-size: 0.875rem;
	min-height: 1.5rem;
	gap: 0.5rem;
	display: flex;
	align-items: center;
	justify-content: flex-start;
	cursor: pointer;
	border-radius: 4px;
	transition: all 0.2s ease;

	&:hover {
		background-color: color-mix(
			in srgb,
			var(--palettePrimaryMain) 15%,
			var(--palettePrimaryNavbar)
		);
		color: var(--paletteTextPrimary);
	}

	span {
		font-weight: 500;
	}

	img {
		width: 24px;
		height: 24px;
		border-radius: 50%;
		object-fit: cover;
		margin-right: 4px;
	}
}

/* Responsive Design */
@media (max-width: 768px) {
	.app-layout {
		grid-template-columns: 1fr;
		grid-template-rows: auto 1fr;
		grid-template-areas:
			'sidebar'
			'main';
	}
}
